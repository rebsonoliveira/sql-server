@{
    ViewData["Title"] = "Customers";
}


<div class="row customer-list">
    <h1>Customers</h1>
    <table id="customers" class="table table-striped table-bordered" cellspacing="0">
        <thead>
            <tr>
                <th>Name</th>
                <th>Category</th>
                <th>Phone</th>
                <th>Fax</th>
                <th>Buying group</th>
                <th></th>
            </tr>
        </thead>
        <tbody></tbody>
    </table>
</div>

<h1 class="customer-edit hidden">Customer details</h1>
<!-- Nav tabs -->
<ul class="nav nav-tabs customer-edit hidden" role="tablist">
    <li role="presentation" class="active"><a href="#customer-panel" aria-controls="home" role="tab" data-toggle="tab">Customer</a></li>
    <li role="presentation"><a href="#orders-panel" aria-controls="profile" role="tab" data-toggle="tab">Orders</a></li>
    <li role="presentation"><a href="#transactions-panel" aria-controls="messages" role="tab" data-toggle="tab">Transactions</a></li>
    <li role="presentation"><a href="#invoices-panel" aria-controls="settings" role="tab" data-toggle="tab">Invoices</a></li>
</ul>

<div class="tab-content">
    <div role="tabpanel" id="customer-panel" class="row customer-edit hidden tab-pane active">
        <!-- Bootstrap form -->
        <form id="EditCustomerForm" class="form-horizontal">
            <input type="hidden" id="CustomerID" value="" />
            <div class="row">
                <div class="col-md-6">
                    <div class="form-group">  <label for="CustomerName" class="col-sm-3 control-label">Name</label>  <div class="col-sm-9">  <input type="text" class="form-control" name="CustomerName" placeholder="CustomerName">  </div>  </div>
                    <div class="form-group">  <label for="AccountOpenedDate" class="col-sm-3 control-label">Opened date</label>  <div class="col-sm-9">  <input type="date" class="form-control" name="AccountOpenedDate" placeholder="AccountOpenedDate">  </div>  </div>
                    <div class="form-group">
                        <label for="BuyingGroupID" class="col-sm-3 control-label">Buying group</label>
                        <div class="col-sm-9">
                            <select class="form-control" id="BuyingGroupID" name="BuyingGroupID" data-text="BuyingGroupName">
                                <option value="null">N/A</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="CustomerCategoryID" class="col-sm-3 control-label">Category</label>
                        <div class="col-sm-9">
                            <select class="form-control" id="CustomerCategoryID" name="CustomerCategoryID" data-text="CustomerCategoryName">
                                <option value="null">N/A</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="IsOnCreditHold" class="col-sm-3 control-label">On credit hold</label>
                        <div class="col-sm-9">
                            <input type="checkbox" class="form-control" name="IsOnCreditHold" value="true">
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="IsStatementSent" class="col-sm-3 control-label">Statement sent</label>
                        <div class="col-sm-9">
                            <input type="checkbox" class="form-control" name="IsStatementSent" value="true">
                       </div>
                    </div>
                    <div class="form-group">  <label for="PaymentDays" class="col-sm-3 control-label">Payment days</label>  <div class="col-sm-9">  <input type="number" class="form-control" name="PaymentDays" placeholder="PaymentDays">  </div>  </div>
                    <div class="form-group">  <label for="CreditLimit" class="col-sm-3 control-label">Credit limit</label>  <div class="col-sm-9">  <input type="number" class="form-control" name="CreditLimit" placeholder="CreditLimit">  </div>  </div>
                    <div class="form-group">  <label for="StandardDiscountPercentage" class="col-sm-3 control-label">Std. discount %</label>  <div class="col-sm-9">  <input type="number" class="form-control" name="StandardDiscountPercentage" placeholder="StandardDiscountPercentage">  </div>  </div>
                    <div class="form-group">  <label for="RunPosition" class="col-sm-3 control-label">Run position</label>  <div class="col-sm-9">  <input type="text" class="form-control" name="RunPosition" placeholder="Run position">  </div>  </div>
                </div>
                <div class="col-md-6">
                    <div class="form-group">  <label for="PrimaryContact" class="col-sm-3 control-label">Primary contact</label>  <div class="col-sm-9">  <input type="text" class="form-control" name="PrimaryContact" placeholder="No primary contact" readonly />  </div>  </div>
                    <div class="form-group">  <label for="AlternateContact" class="col-sm-3 control-label">Alt. contact</label>  <div class="col-sm-9">   <input type="text" class="form-control" name="AlternateContact" placeholder="No alternate contact" readonly />  </div>  </div>
                    <div class="form-group">  <label for="PhoneNumber" class="col-sm-3 control-label">Phone</label>  <div class="col-sm-9">  <input type="tel" class="form-control" name="PhoneNumber" placeholder="Phone number">  </div>  </div>
                    <div class="form-group">  <label for="FaxNumber" class="col-sm-3 control-label">Fax</label>  <div class="col-sm-9">  <input type="text" class="form-control" name="FaxNumber" placeholder="Fax number">  </div>  </div>
                    <div class="form-group">  <label for="WebsiteURL" class="col-sm-3 control-label">Website</label>  <div class="col-sm-9">  <input type="url" class="form-control" name="WebsiteURL" placeholder="Website">  </div>  </div>
                    <div class="form-group">  <label for="PostalAddressLine1" class="col-sm-3 control-label">Line 1</label>  <div class="col-sm-9">  <input type="text" class="form-control" name="PostalAddressLine1" placeholder="Postal Address Line 1">  </div>  </div>
                    <div class="form-group">  <label for="PostalAddressLine2" class="col-sm-3 control-label">Line 2</label>  <div class="col-sm-9">  <input type="text" class="form-control" name="PostalAddressLine2" placeholder="Postal Address Line 2">  </div>  </div>
                    <div class="form-group">  <label for="PostalCityID" class="col-sm-3 control-label">Postal city</label>  <div class="col-sm-9">  <input type="text" class="form-control" name="PostalCity" placeholder="No postal city" readonly />  </div>  </div>
                    <div class="form-group">  <label for="PostalPostalCode" class="col-sm-3 control-label">Postal code</label>  <div class="col-sm-9">  <input type="text" class="form-control" name="PostalPostalCode" placeholder="PostalPostalCode">  </div>  </div>
                    <div class="form-group">  <label class="col-sm-3 control-label">Delivery</label>
                        <div class="col-sm-9 bind-DeliveryLocation bind-properties">  
                            <span id="CityName"></span>, <span id="Province"></span> (<strong id="Territory"></strong>)
                        </div>
                    </div>
                </div>
            </div>
        </form>
        <!-- End Bootstrap form -->

        <div class="form-group pull-right">
            <button id="cancel-customer-edit" type="button" class="btn btn-link pull-right">Cancel</button>
            <button id="save-customer" type="button" class="btn btn-primary pull-right"><span class="glyphicon glyphicon-floppy-save"></span> Save</button>
        </div>
    </div>

    <div role="tabpanel" id="orders-panel" class="row customer-edit hidden tab-pane">
        <div class="row order-list">
            @await Html.PartialAsync("_SalesOrdersTable")
        </div>
        <div class="row order-edit hidden">
            <h3>Order</h3>
            @await Html.PartialAsync("_SalesOrdersForm")
        </div>

        <div class="row order-edit hidden">
            <h3>Sales order lines</h3>
            @await Html.PartialAsync("_SalesOrderLinesTable")
        </div>

        </div>

        <div role="tabpanel" id="transactions-panel" class="row customer-edit hidden tab-pane">
            @*<h2>Transactions</h2>*@
            @await Html.PartialAsync("_CustomerTransactionsTable")
            @await Html.PartialAsync("_CustomerTransactionsForm")
        </div>

        <div role="tabpanel" id="invoices-panel" class="row customer-edit hidden tab-pane">
            @*<h2>Invoices</h2>*@
            @await Html.PartialAsync("_InvoicesTable")
            @await Html.PartialAsync("_InvoicesForm")
        </div>
    </div>
    @section Scripts {
        <script src="~/js/Customers.js"></script>
        <script src="~/js/Customers.InvoicesTable.js"></script>
        <script src="~/js/Invoices.Edit.js"></script>
        <script src="~/js/Customers.CustomerTransactionsTable.js"></script>
        <script src="~/js/CustomerTransactions.Edit.js"></script>
        <script src="~/js/Customers.SalesOrdersTable.js"></script>
        <script src="~/js/SalesOrders.Edit.js"></script>
    }
